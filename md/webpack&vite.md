你提出的 `vite run dev` 或 `webpack dev` 是开发模式，它们的行为和生产构建模式有所不同。让我澄清这些构建过程在 **开发模式** 和 **生产模式** 中的执行时机。

### 在开发模式下

#### **Vite**

- **Vite 的开发模式** (运行 `vite dev`) 使用现代浏览器的原生 ES 模块支持（即 `import`/`export`），不需要在开发过程中进行打包或转译。Vite 会通过原生的浏览器模块支持，直接加载和执行 ES 模块。
- 当你运行 `vite dev` 时，Vite 会启动一个开发服务器，监听文件变化，并且在浏览器中即时加载模块。这意味着，Vite 只在必要时动态地处理代码，而不进行全局的构建。它会按需加载模块，而不会将所有代码打包到一个文件中。
- 由于现代浏览器支持 ES 模块，Vite 在开发模式下**无需使用 Babel 进行代码转译**。但是，如果你的代码中包含旧浏览器无法支持的特性，Vite 会使用适当的工具（例如 Babel）转译特定部分的代码。

#### **Webpack**

- **Webpack 的开发模式** (运行 `webpack dev` 或 `webpack serve`) 会启用 **Hot Module Replacement (HMR)**，它会启动一个本地开发服务器，并根据开发模式配置对模块进行动态处理。
- 在开发模式下，Webpack 会实时编译、打包和加载代码。尽管 Webpack 仍然会将代码处理成浏览器兼容的形式（比如将 `import/export` 转译为浏览器可以直接执行的模块格式），它会采用一种逐步编译（按需处理）和即时更新的方式，而不是一次性地进行全面的构建。
- 对于 ES6+ 代码（如 `import/export`），Webpack 仍然会通过 Babel 或其他插件进行转译，以确保兼容性，尤其是在支持较老的浏览器时。

### 开发模式和生产模式的不同

1. **开发模式**：
   - 在 **Vite** 中，开发时主要依赖浏览器的原生 ESM 支持，因此不会进行全局的转译，而是通过动态加载模块来实现。
   - 在 **Webpack** 中，开发时仍然会对代码进行转译，确保代码能够在不同环境下正常运行，尤其是为了支持不完全支持 ESM 的浏览器，Webpack 会动态转译并实时刷新。

2. **生产模式**：
   - **Vite** 在生产模式下会将所有代码进行打包，并通过 Rollup 等工具进行转译，将代码转为兼容的格式（例如，转译成 ES5 或兼容格式）。
   - **Webpack** 在生产模式下会进行完整的打包和转译，包括代码分割、压缩等操作，确保生成的输出文件能够兼容所有目标浏览器。

### 总结

- **Vite** 在开发模式下，利用现代浏览器的原生 ESM 支持，动态加载模块，不会对代码进行全面转译，转译通常只针对浏览器不支持的部分。
- **Webpack** 在开发模式下，会实时转译代码以确保兼容性，尤其是支持老旧浏览器时，转译仍然会进行，但不像生产模式那样做全量的优化和压缩。

因此，尽管开发时进行实时处理，但转译和构建的过程确实在开发服务启动时（`vite dev` 或 `webpack dev`）就已经发生，而不仅仅是在访问 URL 时。